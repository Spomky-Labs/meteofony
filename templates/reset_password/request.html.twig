{% extends 'base.html.twig' %}

{% block title %}Reset Your Password{% endblock %}

{% block content %}
    <div class="hero min-h-screen bg-base-200">
        <div class="hero-content flex-col lg:flex-row-reverse max-w-6xl w-full">
            <div class="flex-1 text-center lg:text-left">
                <img
                    src="{{ asset('images/undraw_forgot_password_re_hxwm.svg') }}"
                    class="max-w-lg mx-auto drop-shadow-2xl"
                    alt="Forgot password illustration"
                />
            </div>
            <div class="flex-1">
                <div class="card bg-base-100 shadow-2xl">
                    <div class="card-body">
                        <h1 class="text-4xl font-bold text-center mb-6">
                            <i class="fa-solid fa-key text-primary"></i>
                            Reset Password
                        </h1>

                        {% for flash_error in app.flashes('reset_password_error') %}
                            <div class="alert alert-error mb-4">
                                <i class="fa-solid fa-circle-exclamation"></i>
                                <span>{{ flash_error }}</span>
                            </div>
                        {% endfor %}

                        <div class="alert alert-info mb-6">
                            <i class="fa-solid fa-circle-info"></i>
                            <div>
                                <p class="text-sm">Enter your email address, and we'll send you the procedure for resetting your password.</p>
                            </div>
                        </div>

                        {{ form_start(requestForm) }}
                            <div class="form-control">
                                {{ form_label(requestForm.username, null, {label_attr: {class: 'label'}}) }}
                                <span class="label-text font-semibold">{{ form_label(requestForm.username) }}</span>
                                {{ form_widget(requestForm.username, {attr: {autofocus: 'autofocus', class: 'input input-bordered input-primary', placeholder: 'Enter your email'}}) }}
                            </div>

                            <div class="form-control mt-6">
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="fa-solid fa-paper-plane"></i>
                                    Send Reset Link
                                </button>
                            </div>

                            <div class="divider">OR</div>

                            <div class="text-center">
                                <a href="{{ path('app_login') }}" class="link link-primary">
                                    <i class="fa-solid fa-arrow-left"></i>
                                    Return to the login page
                                </a>
                            </div>
                        {{ form_end(requestForm) }}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
